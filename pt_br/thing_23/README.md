# Linguagens de programação para domínios especializados

Quando ouvir uma discussão de especialistas em qualquer domínio, sejam eles enxadristas, professores do ensino infantil ou corretores de seguro, irá notar que o seu vocabulário é muito diferente da linguagem do dia a dia. Esse vocabulário é o que chamamos de linguagens de domínios especializados: um domínio específico tem um vocabulário especializado para descrever as coisas que são particulares daquele domínio.

No mundo de desenvolvimento de software, DSLs (sigla do acrônimo em inglês - Domain-Specific Languages) são expressões executáveis em uma linguagem específica do domínio com vocabulário e gramática limitados que é legível, compreensível e - com sorte - redigível por especialistas do domínio. DSLs direcionadas para desenvolvedores de software ou cientistas já existem há bastante tempo. Por exemplo, as 'pequenas linguagens' do Unix encontrada nos arquivos de configuração e as linguagens criadas com o poder das macros do LISP são alguns dos exemplos mais antigos.

DSLs são classificadas comumente como *internas* ou *externas*:

- **DSLs internas** são escritas numa linguagem de programação de propósito geral cuja sintaxe foi forjada para parecer com linguagens naturais. Isso é mais fácil de ser feito para linguages que oference mais açucares sintátivos e habilidades de formatação (p. ex. Ruby e Scala) que para linguagens que não oferecem essas facilidades (p. ex. Java). A maior parte das DSLs internas empacota APIs existentes, bibliotecas ou código de negócio e fornece esse envelope para ser mais fácil acessar essas funcionalidades. Elas são executáveis diretamente pela simples execução delas. Dependendo da implementação e do domínio, elas são usadas para construir estruturas de dados, definir dependências, executar processos ou tarefas, comunicar com outros sistemas, ou validar entradas de usuários. A sintaxe de uma DSL interna é restringida pela linguagem hospedeira. Existem muitos padrões - p. ex. construtor de expressões, encadeamento de métodos e anotações - que podem facilitar que você forje a linguagem para a sua DSL. Se a sua linguagem não exige recompilação, uma DSL interna pode ser desenvolvida rapidamente trabalhando lado a lado com um especialista de domínio.

- **DSLs externas** são expressões textuais ou gráficas da linguagem - embora DSLs textuais sejam mais predominantes que as gráficas. Expressões textuais podem ser processadas por uma cadeia de ferramentas que inclui o processador léxico, um parser, um transformador de modelo, geradores e qualquer tipo de pós-processamento. DSLs externas são lidas em modelos internos que forma a base do processamento posterior. É útil definir uma gramática (p. ex. em EBNF). Uma gramática fornece o ponto de partida para as partes geradoras da cadeira de ferramentas (p. ex. editor, visualizador, gerador do parser). Para DSLs simples, um parser feito à mão pode ser suficiente - usando por exemplo expressões regulares. Parsers customizados podem se tornar imprevisíveis se a solicitação for muito alta e então faz sentido olhar para ferramentas projetadas especificamente para trabalhar com gramáticas de linguages e DSLs - p. ex., openArchitectureWare, ANTlr, SableCC, AndroMDA. Definir DSLs externas como dialetos XML é também muito comum, embora a legibilidade é geralmente um problema - especialmente para leitores não técnicos.

Você deve sempre levar em conta a audiência da sua DSL. São desenvolvedores, gerentes, clientes internos do seu negócio ou usuários finais? Você tem que adaptar o nível técnico da linguagem, as ferramentas disponíveis, ajuda sintátiva (p. ex. intellisense), validação antecipada, visualização e representação para a sua audiência pretendida. Ao ocultar os detalhes técnicos, DSLs podem empoderar usuários ao dar-lhes a habilidade de adaptar sistemas à suas necessidades sem o envolvimento direto dos desenvolvedores. Pode também acelerar o desenvolvimento por causa da distribuição potencial de trabalho depois que o framework inicial da linguagem está desenvolvido. A linguagem podem ser aprimorada gradualmente. Existem também diferentes caminhos para migração para expressões existentes e gramáticas disponíveis.

Por [Michael Hunger](http://programmer.97things.oreilly.com/wiki/index.php/Michael_Hunger)